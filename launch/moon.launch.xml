<launch>

  <!-- Bringup world -->
  <include file="$(find-pkg-share multirobot_gz_simulator)/launch/load_world.launch.py">
    <arg name="world_file" value="$(find-pkg-share multirobot_gz_simulator)/worlds/moon.sdf"/>
  </include>

  <!-- Remap topics -->
  <node pkg="ros_gz_bridge" exec="parameter_bridge" 
    
    args="
          /model/R1/cmd_vel@geometry_msgs/msg/Twist@gz.msgs.Twist
          /model/R1/odometry@nav_msgs/msg/Odometry@gz.msgs.Odometry
          /model/R1/odometry_with_covariance@nav_msgs/msg/Odometry@gz.msgs.OdometryWithCovariance
          /model/R1/pose@tf2_msgs/msg/TFMessage@gz.msgs.Pose_V
          /model/R1/pose_static@tf2_msgs/msg/TFMessage@gz.msgs.Pose_V{qos:durability:transient_local}
          /world/moon/model/R1/link/base_link/sensor/camera_front/camera_info@sensor_msgs/msg/CameraInfo@gz.msgs.CameraInfo
          /world/moon/model/R1/link/base_link/sensor/camera_front/image@sensor_msgs/msg/Image@gz.msgs.Image
          /world/moon/model/R1/link/base_link/sensor/front_laser/scan@sensor_msgs/msg/LaserScan@gz.msgs.LaserScan
          /world/moon/model/R1/link/base_link/sensor/front_laser/scan/points@sensor_msgs/msg/PointCloud2@gz.msgs.PointCloudPacked
          /world/moon/model/R1/link/base_link/sensor/imu_sensor/imu@sensor_msgs/msg/Imu@gz.msgs.IMU
          /world/moon/model/R1/link/os_imu/sensor/os_imu/imu@sensor_msgs/msg/Imu@gz.msgs.IMU
          /world/moon/model/R1/link/os_lidar/sensor/os_lidar/scan@sensor_msgs/msg/LaserScan@gz.msgs.LaserScan
          /world/moon/model/R1/link/os_lidar/sensor/os_lidar/scan/points@sensor_msgs/msg/PointCloud2@gz.msgs.PointCloudPacked

          /model/R2/cmd_vel@geometry_msgs/msg/Twist@gz.msgs.Twist
          /model/R2/odometry@nav_msgs/msg/Odometry@gz.msgs.Odometry
          /model/R2/odometry_with_covariance@nav_msgs/msg/Odometry@gz.msgs.OdometryWithCovariance
          /model/R2/pose@tf2_msgs/msg/TFMessage@gz.msgs.Pose_V
          /model/R2/pose_static@tf2_msgs/msg/TFMessage@gz.msgs.Pose_V{qos:durability:transient_local}
          /world/moon/model/R2/link/base_link/sensor/camera_front/camera_info@sensor_msgs/msg/CameraInfo@gz.msgs.CameraInfo
          /world/moon/model/R2/link/base_link/sensor/camera_front/image@sensor_msgs/msg/Image@gz.msgs.Image
          /world/moon/model/R2/link/base_link/sensor/front_laser/scan@sensor_msgs/msg/LaserScan@gz.msgs.LaserScan
          /world/moon/model/R2/link/base_link/sensor/front_laser/scan/points@sensor_msgs/msg/PointCloud2@gz.msgs.PointCloudPacked
          /world/moon/model/R2/link/base_link/sensor/imu_sensor/imu@sensor_msgs/msg/Imu@gz.msgs.IMU
          /world/moon/model/R2/link/os_imu/sensor/os_imu/imu@sensor_msgs/msg/Imu@gz.msgs.IMU
          /world/moon/model/R2/link/os_lidar/sensor/os_lidar/scan@sensor_msgs/msg/LaserScan@gz.msgs.LaserScan
          /world/moon/model/R2/link/os_lidar/sensor/os_lidar/scan/points@sensor_msgs/msg/PointCloud2@gz.msgs.PointCloudPacked

          /solar_panel_joint_cmd@std_msgs/msg/Float64@gz.msgs.Double
          /truss/attach@std_msgs/msg/Empty@gz.msgs.Empty
          /truss/detach@std_msgs/msg/Empty@gz.msgs.Empty
          ">

    <remap from="/model/R1/cmd_vel" to="/robot_1/cmd_vel"/>
    <remap from="/model/R1/odometry" to="/robot_1/odometry"/>
    <remap from="/model/R1/odometry_with_covariance" to="/robot_1/odometry_with_covariance"/>
    <remap from="/model/R1/pose" to="/robot_1/tf"/>
    <remap from="/model/R1/pose_static" to="/robot_1/tf_static"/>
    <remap from="/world/moon/model/R1/link/base_link/sensor/camera_front/camera_info" to="/robot_1/camera_front/camera_info"/>
    <remap from="/world/moon/model/R1/link/base_link/sensor/camera_front/image" to="/robot_1/camera_front/image"/>
    <remap from="/world/moon/model/R1/link/base_link/sensor/front_laser/scan" to="/robot_1/front_laser/scan"/>
    <remap from="/world/moon/model/R1/link/base_link/sensor/front_laser/scan/points" to="/robot_1/front_laser/scan/points"/>
    <remap from="/world/moon/model/R1/link/base_link/sensor/imu_sensor/imu" to="/robot_1/imu_sensor/imu"/>
    <remap from="/world/moon/model/R1/link/os_imu/sensor/os_imu/imu" to="/robot_1/os_imu/imu"/>
    <remap from="/world/moon/model/R1/link/os_lidar/sensor/os_lidar/scan" to="/robot_1/os_lidar/scan"/>
    <remap from="/world/moon/model/R1/link/os_lidar/sensor/os_lidar/scan/points" to="/robot_1/os_lidar/points"/>

    <remap from="/model/R2/cmd_vel" to="/robot_2/cmd_vel"/>
    <remap from="/model/R2/odometry" to="/robot_2/odometry"/>
    <remap from="/model/R2/odometry_with_covariance" to="/robot_2/odometry_with_covariance"/>
    <remap from="/model/R2/pose" to="/robot_2/tf"/>
    <remap from="/model/R2/pose_static" to="/robot_2/tf_static"/>
    <remap from="/world/moon/model/R2/link/base_link/sensor/camera_front/camera_info" to="/robot_2/camera_front/camera_info"/>
    <remap from="/world/moon/model/R2/link/base_link/sensor/camera_front/image" to="/robot_2/camera_front/image"/>
    <remap from="/world/moon/model/R2/link/base_link/sensor/front_laser/scan" to="/robot_2/front_laser/scan"/>
    <remap from="/world/moon/model/R2/link/base_link/sensor/front_laser/scan/points" to="/robot_2/front_laser/scan/points"/>
    <remap from="/world/moon/model/R2/link/base_link/sensor/imu_sensor/imu" to="/robot_2/imu_sensor/imu"/>
    <remap from="/world/moon/model/R2/link/os_imu/sensor/os_imu/imu" to="/robot_2/os_imu/imu"/>
    <remap from="/world/moon/model/R2/link/os_lidar/sensor/os_lidar/scan" to="/robot_2/os_lidar/scan"/>
    <remap from="/world/moon/model/R2/link/os_lidar/sensor/os_lidar/scan/points" to="/robot_2/os_lidar/points"/>


    <remap from="/solar_panel_joint_cmd" to="/solar_panel/joint"/>


  </node>


</launch>